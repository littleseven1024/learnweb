<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>啦啦啦</title>
    </head>
    <body>
        <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
        <button id="fade-btn">淡出</button>

        <script>
            var btn = document.getElementById("fade-btn");
            var obj = document.getElementById("fade-obj");
            var num = 10;
            var flag = true;
            var t;
            btn.onclick = fade;
            function fade() {
                t = setInterval(function(){
                    btn.disabled = true;
                    if(flag){
                        num--;
                    }else{
                        num++;
                    }
                    console.log(num);
                    obj.style.opacity = num / 10;

                    if (num <= 0 || num >= 10) {
                        clearInterval(t);
                        btn.disabled = false;

                        if(num){
                            flag = true;
                            btn.innerHTML = "淡出";
                        }else{
                            flag = false;
                            btn.innerHTML = "淡入";
                        }
                    }
                }, 100)
            };
        </script>
    </body>
</html>